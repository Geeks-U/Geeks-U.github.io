import{b as w,c as F,d as B}from"./repositories-B3P0YhNk.js";import{d as g,h as v,j as C,c as l,a as s,k as y,e as _,v as $,F as m,f as h,l as x,t as r,o as a,_ as b,i as V,b as R}from"./index-zWBMFrBE.js";const D={class:"repo-filters"},T={class:"filter-mode"},M={class:"filter-label"},N={class:"filter-label"},U={class:"topics-grid"},E={key:0,class:"loading-placeholder"},I=["value"],z=g({__name:"RepoFilters",props:{topics:{},isLoading:{type:Boolean}},emits:["filter"],setup(f,{emit:c}){const p=f,o=c,e=v([]),t=v("any"),i=()=>{e.value.length!==0&&o("filter",e.value,t.value)},u=()=>{e.value=[],o("filter",[],t.value)};return C(()=>p.topics,()=>{e.value=[]}),(k,n)=>(a(),l("div",D,[s("div",T,[s("label",M,[y(s("input",{type:"radio",value:"any","onUpdate:modelValue":n[0]||(n[0]=d=>t.value=d)},null,512),[[$,t.value]]),n[3]||(n[3]=_(" 任意-匹配 (any) "))]),s("label",N,[y(s("input",{type:"radio",value:"all","onUpdate:modelValue":n[1]||(n[1]=d=>t.value=d)},null,512),[[$,t.value]]),n[4]||(n[4]=_(" 全部-匹配 (all) "))])]),s("div",U,[k.isLoading?(a(),l("div",E,n[5]||(n[5]=[s("div",{class:"loading-spinner"},null,-1),s("span",null,"正在加载标签...",-1)]))):(a(!0),l(m,{key:1},h(k.topics,d=>(a(),l("label",{key:d,class:"topic-label"},[y(s("input",{type:"checkbox",value:d,"onUpdate:modelValue":n[2]||(n[2]=L=>e.value=L)},null,8,I),[[x,e.value]]),_(" "+r(d),1)]))),128))]),s("div",{class:"button-group"},[s("button",{onClick:u,class:"repo-button repo-button-secondary"}," 清空选择 "),s("button",{onClick:i,class:"repo-button repo-button-primary"}," 筛选仓库 ")])]))}}),A=b(z,[["__scopeId","data-v-7d7eb796"]]),S={class:"repo-container"},j={key:0,class:"loading-placeholder"},q={class:"repo-header"},G=["onClick"],H={class:"repo-description"},J={class:"repo-footer"},K={class:"repo-topics"},O={class:"repo-stats"},P={class:"repo-stat"},Q={class:"repo-stat"},W={class:"repo-stat"},X={class:"repo-stat repo-created",title:"创建时间"},Y={key:2,class:"empty-placeholder"},Z=g({__name:"RepoList",props:{repos:{},isLoading:{type:Boolean}},setup(f){const c=o=>o?new Date(o).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"}):"未知时间",p=o=>{o&&window.open(o,"_blank")};return(o,e)=>(a(),l("div",S,[o.isLoading?(a(),l("div",j,e[0]||(e[0]=[s("div",{class:"loading-spinner"},null,-1),s("span",null,"正在加载仓库...",-1)]))):o.repos.length?(a(!0),l(m,{key:1},h(o.repos,t=>(a(),l("div",{key:t.name,class:"repo-card"},[s("header",q,[s("h3",{class:"repo-title",onClick:i=>p(t.html_url),role:"button"},[_(r(t.name)+" ",1),e[1]||(e[1]=s("span",{class:"external-link-icon"},"↗",-1))],8,G),s("p",H,r(t.description||"无描述"),1)]),s("footer",J,[s("div",K,[(a(!0),l(m,null,h(t.topics,i=>(a(),l("span",{key:i,class:"repo-topic"},r(i),1))),128))])]),s("div",O,[s("div",P,[e[2]||(e[2]=s("span",{class:"stat-icon"},"⭐",-1)),s("span",null,r(t.stargazers_count||0),1)]),s("div",Q,[e[3]||(e[3]=s("span",{class:"stat-icon"},"👁️",-1)),s("span",null,r(t.watchers_count||0),1)]),s("div",W,[e[4]||(e[4]=s("span",{class:"stat-icon"},"🍴",-1)),s("span",null,r(t.forks_count||0),1)]),s("div",X,[e[5]||(e[5]=s("span",{class:"created-icon"},"🕒",-1)),s("span",null,r(c(t.created_at)),1)])])]))),128)):(a(),l("div",Y,e[6]||(e[6]=[s("span",null,"请选择标签进行筛选",-1)])))]))}}),ss=b(Z,[["__scopeId","data-v-a23c76bf"]]),es={class:"repo-page"},ts={class:"repo-controls"},os=g({__name:"index",setup(f){const c=v([]),p=v([]),o=v(!1);V(async()=>{try{c.value=await w()}catch(t){console.error("Error fetching topics:",t)}});const e=async(t,i)=>{o.value=!0;try{const u=i==="all"?F:B;p.value=await u(t)}catch(u){console.error("Error fetching repos:",u)}finally{o.value=!1}};return(t,i)=>(a(),l("div",es,[s("div",ts,[R(A,{topics:c.value,"is-loading":!c.value.length,onFilter:e},null,8,["topics","is-loading"])]),R(ss,{repos:p.value,"is-loading":o.value},null,8,["repos","is-loading"])]))}}),as=b(os,[["__scopeId","data-v-8dbc98cb"]]);export{as as default};
